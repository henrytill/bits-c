image: alpine/latest
packages:
  - openssl-dev
  - openssl-libs-static
  - meson
  - ninja
secrets:
  - fff26745-7b06-40da-b5b9-5f4bd6f29596
sources:
  - git@git.sr.ht:~henrytill/bits-c
tasks:
  - configure: |
      cd bits-c
      meson setup builddir --default-library=static
  - build: |
      cd bits-c
      ninja -C builddir
  - test: |
      cd bits-c
      meson test -C builddir
